<h1 align="center">Exercises for Section 2.3</h1>

**Exercise 2.3.1:** Construct a syntax-directed translation scheme that translates arithmetic expressions
from infix notation into prefix notation in which an operator appears before its operands; e.g., -xy is the prefix notation for x - y.
Give annotated parse trees for the inputs 9-5+2 and 9-5*2.

**Answer:**

Given production is:
```
expr → expr + term | expr - term | term
term → term * factor | term / factor | factor
factor → num | id | (expr)
```
Translation scheme:
```
expr → {print("+")} expr + term | {print("-")} expr - term | term
term → {print("*")} term * factor | {print("/")} term / factor | factor
factor → num {print(num.value)} | id {print(id.lexeme)} | (expr)
```

---

**Exercise 2.3.2:** Construct a syntax-directed translation scheme that translates arithmetic expressions
from postfix notation into infix notation. Give annotated parse trees for the inputs 95-2* and 952*-.

**Answer**

Given production is:

```
expr → expr term + | expr term - | term
term → term factor * | term factor / | factor
factor → num | id | (expr)
```
Translation scheme:
```
expr → expr {print("+")} term + | expr {print("-")} term - | term
term → term {print("*")} factor * | term {print("/")} factor / factor
factor → num {print(num.value)} | id {print(id.lexeme)} | (expr)
```

---

**Exercise 2.3.3:** Construct a syntax-directed translation scheme that translates integers into roman numerals.

**Answer**

Consider the assist function:
```
repeat(sign, times) // repeat('a', 2) returns 'aa'
```

Translation scheme:
```
num →       thousand hundred ten digit { num.roman = thousand.roman, hundred.roman, ten.roman, digit.roman; print(num.roman) }
thousand →  low {thousand.roman = repeat('M', low.v)}
hundred →   low {hundred.roman = repeat('C', low.v)} | 4 {hundred.roman = 'CD'} | high {hundred.roman = 'D', repeat('C', high.v - 5)} | 9 {hundred.roman = 'CM'}
ten →       low {ten.roman = repeat('X', low.v)} | 4 {ten.roman = 'XL'} | high {ten.roman = 'L', repeat('X', high.v - 5)} | 9 {ten.roman = 'XC'}
digit →     low {digit.roman = repeat('I', low.v)} | 4 {digit.roman = 'IV'} | high {digit.roman = 'V', repeat('I', high.v - 5)} | 9 {digit.roman = 'IX'}
low →       0 {low.v = 0} | 1 {low.v = 1} | 2 {low.v = 2} | 3 {low.v = 3}
high →      5 {high.v = 5} | 6 {high.v = 6} | 7 {high.v = 7} | 8 {high.v = 8}
```

---

**Exercise 2.3.4:** Construct a syntax-directed translation scheme that translates roman numerals into integers.

**Answer:**

Given production is:

```
romanNum → thousand hundred ten digit
thousand → M | M M | M M M | ε
hundred → smallHundred | C D | D smallHundred | C M
smallHundred → C | C C | C C C | ε
ten → smallTen | X L | L smallTen | X C
smallTen → X | X X | X X X  | ε
digit → smallDigit | I V | V smallDigit | I X
smallDigit → I | I I | I I I | ε
```
Translation scheme:
```
romanNum → thousand hundred ten digit {romanNum.v = thousand.v || hundred.v || ten.v || digit.v; print(romanNun.v)}
thousand → M {thousand.v = 1} | MM {thousand.v = 2} | MMM {thousand.v = 3} | ε {thousand.v = 0}
hundred → smallHundred {hundred.v = smallHundred.v} | C D {hundred.v = smallHundred.v} | D smallHundred {hundred.v = 5 + smallHundred.v} | C M {hundred.v = 9}
smallHundred → C {smallHundred.v = 1} | CC {smallHundred.v = 2} | CCC {smallHundred.v = 3} | ε {hundred.v = 0}
ten → smallTen {ten.v = smallTen.v} | X L  {ten.v = 4} | L smallTen  {ten.v = 5 + smallTen.v} | X C  {ten.v = 9}
smallTen → X {smallTen.v = 1} | XX {smallTen.v = 2} | XXX {smallTen.v = 3} | ε {smallTen.v = 0}
digit → smallDigit {digit.v = smallDigit.v} | I V  {digit.v = 4} | V smallDigit  {digit.v = 5 + smallDigit.v} | I X  {digit.v = 9}
 smallDigit → I {smallDigit.v = 1} | II {smallDigit.v = 2} | III {smallDigit.v = 3} | ε {smallDigit.v = 0}
```

---

**Exercise 2.3.5:** Construct a syntax-directed translation scheme that translates postfix arithmetic expressions into equivalent prefix arithmetic expressions.

**Answer:**

Given production is:
```
expr → expr expr op | digit
```
Translation scheme:
```
expr → {print(op)} expr expr op | digit {print(digit)}
```
